{
  "name": "Payu",
  "tagline": "Payu India Laravel Payment Gateway Package. Payment for Payu Biz India with Laravel 5.",
  "body": "# PayU Laravel Payment Gateway\r\n\r\n[![Latest Version on Packagist][ico-version]][link-packagist]\r\n[![Software License][ico-license]](LICENSE.md)\r\n[![Code Climate](https://codeclimate.com/github/tzsk/payu/badges/gpa.svg)](https://codeclimate.com/github/tzsk/payu)\r\n[![Quality Score][ico-code-quality]][link-code-quality]\r\n[![Total Downloads][ico-downloads]][link-downloads]\r\n\r\nThis is a Package for `PayU India` payment gateway integration with \r\n`Laravel 5`. Now payment gateway made simple.\r\n## Install\r\n\r\nVia Composer\r\n\r\n``` bash\r\n$ composer require tzsk/payu\r\n```\r\n\r\n## Configure\r\n\r\n` config/app.php `\r\n```php\r\n'providers' => [\r\n    ...\r\n    Tzsk\\Payu\\Provider\\PayuServiceProvider::class,\r\n    ...\r\n],\r\n\r\n'aliases' => [\r\n    ...\r\n    'Payment' => Tzsk\\Payu\\Facade\\Payment::class,\r\n    ...\r\n],\r\n```\r\n\r\nTo publish the Configuration file in `config/payu.php` Run:\r\n```bash\r\nphp artisan vendor:publish\r\n```\r\n\r\nMigrate the `PayuPayment` Database table that comes with the package.\r\n```bash\r\nphp artisan migrate\r\n```\r\n\r\n## Usage\r\nAt the top of your controller file:\r\n```php\r\n...\r\nuse Tzsk\\Payu\\Facade\\Payment;\r\n...\r\n```\r\n\r\nInside your controller method you have to pass the Payment data in Payment make function.\r\n\r\n**For Example:**\r\n\r\nMinimum required fields:\r\n``` php\r\n$data = [\r\n    'txnid' => strtoupper(str_random(8)), # Transaction ID.\r\n    'amount' => rand(100, 999), # Amount to be charged.\r\n    'productinfo' => \"Product Information\",\r\n    'firstname' => \"John\", # Payee Name.\r\n    'email' => \"john@doe.com\", # Payee Email Address.\r\n    'phone' => \"9876543210\", # Payee Phone Number.\r\n    \r\n    ... # Additional Fields With Data.\r\n    ... # Optional Fields With Data.\r\n];\r\n```\r\nSome additional fields that you can have with the data:\r\n```php\r\n$additional_fields = [\r\n    \"lastname\", \"address1\", \"address2\", \r\n    \"city\", \"state\", \"country\", \"zipcode\"\r\n];\r\n```\r\nSome optional fields that you can have with the data:\r\n```php\r\n$optional_fiels = [\"udf1\", \"udf2\", \"udf3\", \"udf4\", \"udf5\"];\r\n``` \r\n\r\nNow make the Payment by calling make:\r\n\r\n**Note: You have to return the Payment facade**\r\n```php\r\nreturn Payment::make($data, function($then) {\r\n    $then->redirectTo('payment/status/page'); # Your Status page endpoint.\r\n    # OR...\r\n    $then->redirectAction('PaymentController@status'); # Your Status action.\r\n    # OR...\r\n    $then->redirectRoute('payment_status'); # Your Status Route.\r\n});\r\n    \r\n/**\r\n* So here you will need another route to redirect to after payment is done.\r\n*/\r\n\r\n```\r\n\r\nNow, in that status route that you have created will receive a Payment \r\ninstance of the Migration table.\r\n\r\n**For Example:**\r\n```php\r\npublic function status() {\r\n    $payment = Payment::capture(); # Recieve the payment.\r\n    # Returns PayuPayment Instance.\r\n    \r\n    ...\r\n}\r\n```\r\n\r\n**PayuPayment API:**\r\n```php\r\n$payment->getData(); # Get the full response from Gateway.\r\n$payment->isCaptured(); # Is the payment captured or some internal failure occured.\r\n$payment->transaction_id; # Your Local Transaction ID.\r\n$payment->payment_id; # PayU Payment ID.\r\n$payment->total_amount; # Get Tototal Amount Deducted.\r\n$payment->bank_reference_number; # Issued Bank Refernce Number.\r\n$payment->bank_code; # Issued Bank Code.\r\n$payment->card_number; # Redacted Card Number. If paid through Card.\r\n\r\n...\r\n# And many more like 'status', 'mode' are found in the Database Table.\r\n```\r\n\r\nThis Package already comes with Polymorphic Relation built in.\r\nLet's asume you want to have it related to an Order. Then you should have\r\nan Order Model. Just use the Trait like.\r\n\r\n**Model: `Order.php`**\r\n\r\nAt the top.\r\n```php\r\nuse Tzsk\\Payu\\Fragment\\Payable;\r\n```\r\n\r\nInside the Model Class:\r\n```php\r\nclass Order extends Model {\r\n\r\n    use Payable;\r\n    \r\n    ...\r\n    \r\n}\r\n```\r\n\r\nIf you plan to use relationship then you have to modify your status route steps a bit.\r\n\r\n**Polymorphic Status Example:**\r\n```php\r\npublic function status() {\r\n    $payment = Payment::capture(); # Recieve the payment.\r\n    $payment->fill([\r\n        'payable_id' => $order->id, # Your Order Table Primary Key.\r\n        'payable_type' => 'App\\Order', # Your Order Model Namespace.\r\n    ])->save();\r\n    \r\n    ...\r\n}\r\n```\r\nWith that you can access the payments for that perticular order: `$order->payments`.\r\n\r\n## Change log\r\n\r\nPlease see [CHANGELOG](CHANGELOG.md) for more information what has changed recently.\r\n\r\n## Contributing\r\n\r\nPlease see [CONTRIBUTING](CONTRIBUTING.md) and [CONDUCT](CONDUCT.md) for details.\r\n\r\n## Security\r\n\r\nIf you discover any security related issues, please email mailtokmahmed@gmail.com instead of using the issue tracker.\r\n\r\n## Credits\r\n\r\n- [Kazi Mainuddin Ahmed][link-author]\r\n- [All Contributors][link-contributors]\r\n\r\n## License\r\n\r\nThe MIT License (MIT). Please see [License File](LICENSE.md) for more information.\r\n\r\n[ico-version]: https://img.shields.io/packagist/v/tzsk/payu.svg?style=flat-square\r\n[ico-license]: https://img.shields.io/badge/license-MIT-brightgreen.svg?style=flat-square\r\n[ico-travis]: https://img.shields.io/travis/tzsk/payu/master.svg?style=flat-square\r\n[ico-scrutinizer]: https://img.shields.io/scrutinizer/coverage/g/tzsk/payu.svg?style=flat-square\r\n[ico-code-quality]: https://img.shields.io/scrutinizer/g/tzsk/payu.svg?style=flat-square\r\n[ico-downloads]: https://img.shields.io/packagist/dt/tzsk/payu.svg?style=flat-square\r\n\r\n[link-packagist]: https://packagist.org/packages/tzsk/payu\r\n[link-travis]: https://travis-ci.org/tzsk/payu\r\n[link-scrutinizer]: https://scrutinizer-ci.com/g/tzsk/payu/code-structure\r\n[link-code-quality]: https://scrutinizer-ci.com/g/tzsk/payu\r\n[link-downloads]: https://packagist.org/packages/tzsk/payu\r\n[link-author]: https://github.com/tzsk\r\n[link-contributors]: ../../contributors\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}